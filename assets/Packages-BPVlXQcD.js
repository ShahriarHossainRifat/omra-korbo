import{r as l,j as e,q as h,u as g,m as u,F as p,a as j,H as f,L as b,c as v}from"./index-Cwjsat1S.js";import{c as y}from"./mockData-CS5w2i6t.js";const N=({pkg:s})=>{const c=g(),d=()=>{c(v({id:s.id,name:s.name,price:s.price,discountedPrice:s.discount?s.price-s.price*s.discount/100:void 0,image:s.image,type:"package"}))};return e.jsxs(u.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition duration-500"}),s.discount&&e.jsxs("div",{className:"absolute top-3 right-3 bg-red-500 text-white px-2 py-1 rounded-lg font-semibold text-sm",children:[s.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[e.jsx(p,{}),e.jsx("span",{className:"text-gray-700 font-medium",children:s.rating}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",s.reviews,")"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3 text-sm",children:[e.jsx(j,{}),e.jsx("span",{children:s.duration})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.amenities.slice(0,3).map((i,t)=>e.jsx("span",{className:"bg-teal-50 text-teal-700 px-2 py-1 rounded text-xs",children:i},t)),s.amenities.length>3&&e.jsxs("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded text-xs",children:["+",s.amenities.length-3," more"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:s.discount?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["$",s.price]}),e.jsxs("div",{className:"text-2xl font-bold text-teal-700",children:["$",(s.price-s.price*s.discount/100).toFixed(2)]})]}):e.jsxs("div",{className:"text-2xl font-bold text-teal-700",children:["$",s.price]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:d,className:"bg-amber-50 hover:bg-amber-100 text-amber-600 px-3 py-2 rounded-lg transition flex items-center gap-1 border border-amber-200",title:"Add to cart",children:[e.jsx(f,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Add"})]}),e.jsx(b,{to:`/packages/${s.id}`,className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition",children:"View Details"})]})]})]})]})},P=()=>{const[s,c]=l.useState([]),[d,i]=l.useState(!0),[t,n]=l.useState({search:"",sortBy:"recommended"});l.useEffect(()=>{(async()=>{try{i(!0);const r=await y();c(r)}catch(r){console.error("Failed to fetch packages:",r)}finally{i(!1)}})()},[]);const x=a=>{n(r=>({...r,search:a.target.value}))},m=a=>{n(r=>({...r,sortBy:a.target.value}))},o=s.filter(a=>a.name.toLowerCase().includes(t.search.toLowerCase())||a.description.toLowerCase().includes(t.search.toLowerCase())).sort((a,r)=>{switch(t.sortBy){case"price-low-high":return a.price-r.price;case"price-high-low":return r.price-a.price;default:return(r.featured?1:0)-(a.featured?1:0)}});return e.jsxs(e.Fragment,{children:[e.jsxs(h,{children:[e.jsx("title",{children:"Umrah Packages | Omra Korbo"}),e.jsx("meta",{name:"description",content:"Explore our wide range of Umrah packages suited for all budgets and preferences."})]}),e.jsx("div",{className:"bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Our Umrah Packages"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Choose from our selection of carefully designed packages that cater to various needs and budgets"})]}),e.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-md p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"text",placeholder:"Search packages...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:t.search,onChange:x})}),e.jsx("div",{className:"md:w-48",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:t.sortBy,onChange:m,children:[e.jsx("option",{value:"recommended",children:"Recommended"}),e.jsx("option",{value:"price-low-high",children:"Price: Low to High"}),e.jsx("option",{value:"price-high-low",children:"Price: High to Low"})]})})]})}),d?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((a,r)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-96 animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]})]},r))}):o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No packages found"}),e.jsx("p",{className:"text-gray-600",children:"We couldn't find any packages matching your search criteria."}),e.jsx("button",{onClick:()=>n({search:"",sortBy:"recommended"}),className:"mt-4 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition",children:"Clear Filters"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map(a=>e.jsx(N,{pkg:a},a.id))})]})})]})};export{P as default};
