import{r as i,j as e,q as y,u as f,m as v,F as b,H as w,L as N,c as C}from"./index-Cwjsat1S.js";import{d as P}from"./mockData-CS5w2i6t.js";const S=({product:a})=>{const c=f(),d=()=>{c(C({id:a.id,name:a.name,price:a.price,discountedPrice:a.discountedPrice,image:a.image,type:"product"}))};return e.jsxs(v.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition duration-500"}),a.discount&&e.jsxs("div",{className:"absolute top-3 right-3 bg-red-500 text-white px-2 py-1 rounded-lg font-semibold text-sm",children:[a.discount,"% OFF"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[e.jsx(b,{}),e.jsx("span",{className:"text-gray-700 font-medium",children:a.rating}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",a.reviews,")"]})]})]}),e.jsx("div",{className:"text-teal-600 text-sm font-medium mb-3",children:a.category}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:a.discountedPrice?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["$",a.price]}),e.jsxs("div",{className:"text-xl font-bold text-teal-700",children:["$",a.discountedPrice]})]}):e.jsxs("div",{className:"text-xl font-bold text-teal-700",children:["$",a.price]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:d,className:"bg-amber-50 hover:bg-amber-100 text-amber-600 px-3 py-2 rounded-lg transition flex items-center gap-1 border border-amber-200",title:"Add to cart",children:[e.jsx(w,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Add"})]}),e.jsx(N,{to:`/products/${a.id}`,className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition text-sm",children:"View Details"})]})]})]})]})},A=()=>{const[a,c]=i.useState([]),[d,o]=i.useState(!0),[r,l]=i.useState({search:"",category:"",sortBy:"recommended"}),[m,h]=i.useState([]);i.useEffect(()=>{(async()=>{try{o(!0);const t=await P();c(t);const p=Array.from(new Set(t.map(j=>j.category)));h(p)}catch(t){console.error("Failed to fetch products:",t)}finally{o(!1)}})()},[]);const x=s=>{l(t=>({...t,search:s.target.value}))},g=s=>{l(t=>({...t,category:s.target.value}))},u=s=>{l(t=>({...t,sortBy:s.target.value}))},n=a.filter(s=>(r.category===""||s.category===r.category)&&(s.name.toLowerCase().includes(r.search.toLowerCase())||s.description.toLowerCase().includes(r.search.toLowerCase()))).sort((s,t)=>{switch(r.sortBy){case"price-low-high":return(s.discountedPrice||s.price)-(t.discountedPrice||t.price);case"price-high-low":return(t.discountedPrice||t.price)-(s.discountedPrice||s.price);default:return t.discount?1:-1}});return e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("title",{children:"Umrah Products | Omra Korbo"}),e.jsx("meta",{name:"description",content:"Shop for quality Umrah-related products at great prices."})]}),e.jsx("div",{className:"bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Umrah Products"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Enhance your spiritual journey with our carefully selected products"})]}),e.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-md p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:r.search,onChange:x})}),e.jsx("div",{className:"md:w-48",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:r.category,onChange:g,children:[e.jsx("option",{value:"",children:"All Categories"}),m.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx("div",{className:"md:w-48",children:e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:r.sortBy,onChange:u,children:[e.jsx("option",{value:"recommended",children:"Recommended"}),e.jsx("option",{value:"price-low-high",children:"Price: Low to High"}),e.jsx("option",{value:"price-high-low",children:"Price: High to Low"})]})})]})}),d?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((s,t)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-80 animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})]},t))}):n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:"We couldn't find any products matching your search criteria."}),e.jsx("button",{onClick:()=>l({search:"",category:"",sortBy:"recommended"}),className:"mt-4 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition",children:"Clear Filters"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(s=>e.jsx(S,{product:s},s.id))})]})})]})};export{A as default};
